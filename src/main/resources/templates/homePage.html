<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
</head>
<body>

<h2>Product List</h2>

<table border="1">
    <thead>
    <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Price</th>
        <th>Main Picture</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="product : ${products}">
        <td th:text="${product.name}"></td>
        <!-- Check the length before performing substring -->
        <td><span th:text="${#strings.length(product.description) >= 50 ? #strings.substring(product.description, 0, 50) : product.description}"></span></td>
        <td th:text="${product.price}"></td>
        <!-- Display the first image from the images list using an <img> tag and include the image path -->
        <td th:if="${#lists.size(product.images) > 0}">
            <img th:src="@{'/' + ${product.images[0].imagePath}}" alt="Main Picture" width="100" height="100" />
        </td>
        <td><a th:href="@{'/view/product/' + ${product.id}}">View Details</a></td>
    </tr>
    </tbody>
</table>

</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Product List</title>-->
<!--</head>-->
<!--<body>-->

<!--<h2>Product List</h2>-->

<!--<table border="1">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>Title</th>-->
<!--        <th>Description</th>-->
<!--        <th>Price</th>-->
<!--        <th>Main Picture</th>-->
<!--        <th>Action</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="product : ${products}">-->
<!--        <td th:text="${product.name}"></td>-->
<!--        &lt;!&ndash; Check the length before performing substring &ndash;&gt;-->
<!--        <td><span th:text="${#strings.length(product.description) >= 50 ? #strings.substring(product.description, 0, 50) : product.description}"></span></td>-->
<!--        <td th:text="${product.price}"></td>-->
<!--        &lt;!&ndash; Display the first image from the images list using an <img> tag and include the image path &ndash;&gt;-->
<!--        <td th:if="${#lists.size(product.images) > 0}">-->
<!--            <img th:each="image : ${product.images}" th:src="@{'/' + ${image.imagePath}}" alt="Main Picture" width="100" height="100" />-->
<!--        </td>-->
<!--        <td><a th:href="@{'/view/product/' + ${product.id}}">View Details</a></td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--</table>-->

<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Product List</title>-->
<!--</head>-->
<!--<body>-->

<!--<h2>Product List</h2>-->

<!--<table border="1">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>Title</th>-->
<!--        <th>Description</th>-->
<!--        <th>Price</th>-->
<!--        <th>Main Picture</th>-->
<!--        <th>Action</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="product : ${products}">-->
<!--        <td th:text="${product.name}"></td>-->
<!--        &lt;!&ndash; Check the length before performing substring &ndash;&gt;-->
<!--        <td><span th:text="${#strings.length(product.description) >= 50 ? #strings.substring(product.description, 0, 50) : product.description}"></span></td>-->
<!--        <td th:text="${product.price}"></td>-->
<!--        &lt;!&ndash; Display the first image from the images list using an <img> tag &ndash;&gt;-->
<!--        <td>-->
<!--            <img th:if="${#lists.size(product.images) > 0}" th:src="${product.images[0]}" alt="Main Picture" width="100" height="100" />-->
<!--        </td>-->

<!--        <td><a th:href="@{'/view/product/' + ${product.id}}">View Details</a></td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--</table>-->

<!--</body>-->
<!--</html>-->